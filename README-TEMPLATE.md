# قالب سایت شرکتی و فروشگاهی (Laravel)

قالب آمادهٔ نصب برای سایت شرکتی و optionally فروشگاه، با پنل مدیریت فارسی و جادوی نصب مرحله‌ای.

## ویژگی‌ها

- **پنل مدیریت فارسی (RTL)** — داشبورد، صفحات، وبلاگ، محصولات، سفارشات، تنظیمات
- **صفحات شرکتی** — درباره ما، تماس، و صفحات دلخواه با نامک
- **وبلاگ** — مطالب و دسته‌بندی؛ فعال/غیرفعال از طریق تنظیمات (ماژول)
- **ماژول فروشگاه (اختیاری)** — محصولات، سبد خرید، ثبت سفارش؛ فعال/غیرفعال از طریق تنظیمات (ماژول)
- **پشتیبانی از قالب** — تم پیش‌فرض؛ قالب‌های جدید در `resources/views/themes/`
- **جادوی نصب** — بررسی محیط، دیتابیس، ادمین، تنظیمات سایت، قفل نصب
- **تک‌مستاجر (غیر چندمستاجره)** — یک نصب = یک سایت روی هاست مشتری
- **آمادهٔ تولید** — اعتبارسنجی، امنیت پایه، ساختار ساده برای توسعه

## نصب روی هاست مشتری

1. فایل‌های پروژه را روی سرور کپی کنید.
2. در مرورگر به آدرس سایت بروید؛ در صورت نصب نشدن، به `/install` هدایت می‌شوید.
3. مراحل نصب را طی کنید:
   - بررسی پیش‌نیازها (PHP 8.2+, افزونه‌ها، مجوز نوشتن)
   - تنظیم دیتابیس (MySQL/MariaDB)
   - ایجاد حساب مدیر
   - نام سایت و قالب
4. پس از نصب، از طریق «ورود به پنل مدیریت» وارد شوید. فعال/غیرفعال کردن ماژول‌ها (وبلاگ، فروشگاه) از فایل `.env` با `MODULE_BLOG_ENABLED` و `MODULE_SHOP_ENABLED` انجام می‌شود.

## سیستم ماژول‌ها (فعال‌سازی بر اساس تنظیمات)

فعال یا غیرفعال بودن هر قابلیت (مثل وبلاگ یا فروشگاه) **بر اساس تنظیمات (config/env)** و به‌ازای هر نصب تعیین می‌شود؛ نیازی به مارکت‌پلیس یا نصب پکیج نیست.

- **تعریف ماژول‌ها:** در `config/modules.php` لیست ماژول‌ها با کلید، نام و متغیر env مشخص می‌شود.
- **فعال‌سازی:** در `.env` مقدار متغیر مربوط به هر ماژول را `true` یا `false` قرار دهید، مثلاً:
  - `MODULE_BLOG_ENABLED=true`
  - `MODULE_SHOP_ENABLED=false`
- **استفاده در کد:** `Module::enabled('shop')` یا `Module::enabled('blog')`؛ یا از طریق `SiteHelper::shopEnabled()` و `SiteHelper::blogEnabled()`.
- در **پنل → تنظیمات** وضعیت فعلی ماژول‌ها (فعال/غیرفعال) و نام متغیر env هر کدام نمایش داده می‌شود.

## ساختار کلی

- **Front:** `HomeController`, `PageController`, `ContactController`, `BlogController`, `ShopController`
- **Admin:** `DashboardController`, `PageController`, `PostController`, `CategoryController`, `ProductController`, `OrderController`, `SettingController`
- **تم‌ها:** `resources/views/themes/{theme}/` (فعلاً `default`)
- **تنظیمات سایت:** جدول `settings` و `SiteHelper` (نام سایت، تم). **ماژول‌ها:** `config/modules.php` و `App\Helpers\Module` (فعال بودن وبلاگ/فروشگاه از env).

## افزودن قالب جدید

1. پوشه‌ای مثل `resources/views/themes/theme-name/` بسازید.
2. فایل‌های `layout.blade.php`, `home.blade.php`, `page.blade.php`, `contact.blade.php`, `blog/index.blade.php`, `blog/show.blade.php`, `shop/index.blade.php`, `shop/show.blade.php`, `shop/cart.blade.php` را مشابه تم `default` پیاده کنید.
3. در نصب یا **تنظیمات** پنل، قالب جدید را انتخاب کنید (در صورت اضافه شدن به لیست).

## امنیت پس از نصب

- در محیط تولید حتماً `APP_DEBUG=false` و `APP_ENV=production` قرار دهید.
- پس از نصب، دسترسی به مسیرهای `/install` به‌صورت خودکار به صفحهٔ اصلی redirect می‌شود؛ در صورت تمایل می‌توانید فایل قفل نصب را از دسترس وب خارج کنید.

## نیازمندی‌ها

- PHP 8.2+
- Laravel 12
- MySQL/MariaDB یا SQLite (برای دیتابیس)
- افزونه‌های PHP: pdo, mbstring, openssl, tokenizer, json, ctype, fileinfo

---

این قالب برای نصب روی هاست هر مشتری به‌صورت تک‌مستاجر طراحی شده و وابسته به پلتفرم چندمستاجرهٔ دیگری نیست.
